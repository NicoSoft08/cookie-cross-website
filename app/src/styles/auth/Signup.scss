 @import '../fonts';
 @import '../variables';

 // Mixins
 @mixin transition($properties: all, $duration: 0.3s, $timing: ease-in-out) {
     transition: $properties $duration $timing;
 }

 @mixin card-shadow($level: 1) {
     @if $level ==1 {
         box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
     }

     @else if $level ==2 {
         box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
     }

     @else if $level ==3 {
         box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
     }

     @else if $level ==4 {
         box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
     }
 }

 @mixin flex-center {
     display: flex;
     align-items: center;
     justify-content: center;
 }

 @mixin glass-effect {
     background: rgba($white, 0.95);
     backdrop-filter: blur(20px);
     -webkit-backdrop-filter: blur(20px);
     border: 1px solid rgba($white, 0.2);
 }

 @mixin input-focus {
     outline: none;
     border-color: $two;
     box-shadow: 0 0 0 3px rgba($primary-color, 0.1);
 }

 .signup {
     min-height: 100vh;
     background: linear-gradient(135deg, $two 0%, $four 100%);
     @include flex-center;
     padding: $spacing-lg;
     position: relative;
     overflow: hidden;

     // Effet de particules en arrière-plan
     &::before {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         right: 0;
         bottom: 0;
         background-image:
             radial-gradient(circle at 25% 25%, rgba($white, 0.1) 2px, transparent 2px),
             radial-gradient(circle at 75% 75%, rgba($white, 0.1) 2px, transparent 2px);
         background-size: 50px 50px;
         animation: float 20s ease-in-out infinite;
         pointer-events: none;
     }

     // Variantes de fond
     &--gradient-blue {
         background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
     }

     &--gradient-purple {
         background: linear-gradient(135deg, #a855f7 0%, #3b82f6 100%);
     }

     &--gradient-green {
         background: linear-gradient(135deg, #10b981 0%, #059669 100%);
     }

     &--solid {
         background: $primary-color;
     }

     &--dark {
         background: linear-gradient(135deg, $gray-900 0%, $gray-800 100%);
     }

     // Container principal
     .signup-container {
         width: 100%;
         max-width: 420px;
         @include glass-effect;
         border-radius: $radius-2xl;
         @include card-shadow(4);
         padding: $spacing-3xl;
         position: relative;
         animation: slideInUp 0.6s ease-out;

         @media (max-width: $tablet) {
             max-width: 380px;
             padding: $spacing-2xl;
             margin: $spacing-lg;
         }

         @media (max-width: $mobile) {
             width: 350px;
             padding: $spacing-xl;
             margin: $spacing-md;
             border-radius: $radius-xl;
         }

         // Header de connexion
         .signup-header {
             text-align: center;
             margin-bottom: $spacing-xl;

             .title {
                 font-size: 2rem;
                 font-weight: 700;
                 color: $gray-900;
                 margin: 0 0 $spacing-sm;
                 background: linear-gradient(135deg, $gray-900, $gray-700);
                 -webkit-background-clip: text;
                 -webkit-text-fill-color: transparent;
                 background-clip: text;

                 @media (max-width: $mobile) {
                     font-size: 1.75rem;
                 }
             }

             .subtitle {
                 font-size: 1rem;
                 color: $gray-600;
                 margin: 0;
                 font-weight: 400;

                 @media (max-width: $mobile) {
                     font-size: 0.875rem;
                 }
             }
         }

         .form {
             display: flex;
             flex-direction: column;
             gap: $spacing-xl;

             .step-indicator {
                 display: flex;
                 align-items: center;
                 justify-content: center;
                 gap: 0.5rem;

                 .step {
                     width: 2rem;
                     height: 2rem;
                     border-radius: 50%;
                     display: flex;
                     align-items: center;
                     justify-content: center;
                     background-color: #e0e0e0;
                     color: #9e9e9e;
                     font-weight: bold;
                     font-size: 0.875rem;
                     transition: all 0.3s ease;

                     &.active {
                         background: #3b82f6;
                         color: white;
                         transform: scale(1.1);
                     }

                     &.completed {
                         background: #10b981;
                         color: white;
                     }
                 }

                 .step-line {
                     flex-grow: 1;
                     height: 2px;
                     background-color: #e0e0e0;
                     max-width: 3rem;
                     transition: all 0.3s ease;

                     &.active {
                         background: #3b82f6;
                     }

                     &.completed {
                         background: #10b981;
                     }
                 }
             }

             .step-content {
                 .step-title {
                     font-size: 1.25rem;
                     font-weight: 500;
                     margin-bottom: $spacing-md;
                     color: $gray-900;

                     &.active {
                         color: $two;
                     }
                 }

                 // Personnal
                 #personal {
                     .form-group {
                         display: flex;
                         flex-direction: column;
                         gap: $spacing-sm;

                         // Wrapper d'input avec icône
                         .input-wrapper {
                             position: relative;
                             width: 100%;
                             display: flex;
                             align-items: center;
                             margin-bottom: $spacing-lg;

                             .input-icon {
                                 position: absolute;
                                 left: $spacing-lg;
                                 top: 15px;
                                 color: $gray-400;
                                 font-size: 1rem;
                                 z-index: 2;
                                 @include transition(color);
                             }

                             &:focus-within .input-icon {
                                 color: $dark;
                             }

                             // Input de base
                             .form-input {
                                 width: 100%;
                                 padding: $spacing-lg $spacing-lg $spacing-lg 3rem;
                                 border: 2px solid $gray-200;
                                 border-radius: $radius-lg;
                                 font-size: 1rem;
                                 font-weight: $font-light;
                                 font-family: 'Ubuntu', sans-serif;
                                 background: $white;
                                 color: $gray-900;
                                 @include transition(all, 0.2s);
                                 position: relative;

                                 &::placeholder {
                                     color: $gray-400;
                                     @include transition(color);
                                 }

                                 &:focus {
                                     @include input-focus;

                                     &::placeholder {
                                         color: $gray-300;
                                     }
                                 }

                                 &:hover:not(:focus) {
                                     border-color: $gray-300;
                                 }

                                 // État rempli
                                 &.filled {
                                     border-color: $gray-300;
                                     background: $gray-50;
                                 }

                                 // État d'erreur
                                 &.error {
                                     border-color: $error-color;
                                     background: rgba($error-color, 0.05);

                                     &:focus {
                                         border-color: $error-color;
                                         box-shadow: 0 0 0 3px rgba($error-color, 0.1);
                                     }
                                 }

                                 // État de succès
                                 &.success {
                                     border-color: $success-color;
                                     background: rgba($success-color, 0.05);

                                     &:focus {
                                         border-color: $success-color;
                                         box-shadow: 0 0 0 3px rgba($success-color, 0.1);
                                     }
                                 }

                                 @media (max-width: $mobile) {
                                     padding: $spacing-md $spacing-md $spacing-md 2.75rem;
                                     font-size: 0.9375rem;
                                 }

                             }
                         }
                     }
                 }

                 // Contact
                 #contact {

                     .form-group {
                         display: flex;
                         flex-direction: column;
                         gap: $spacing-sm;

                         // Wrapper d'input avec icône
                         .input-wrapper {
                             position: relative;
                             display: flex;
                             width: 100%;
                             align-items: center;
                             margin-bottom: $spacing-lg;

                             .input-icon {
                                 position: absolute;
                                 left: $spacing-lg;
                                 top: 15px;
                                 color: $gray-400;
                                 font-size: 1rem;
                                 z-index: 2;
                                 @include transition(color);
                             }

                             &:focus-within .input-icon {
                                 color: $dark;
                             }

                             // Input de base
                             .form-input {
                                 width: 100%;
                                 padding: $spacing-lg $spacing-lg $spacing-lg 3rem;
                                 border: 2px solid $gray-200;
                                 border-radius: $radius-lg;
                                 font-size: 1rem;
                                 font-weight: $font-light;
                                 font-family: 'Ubuntu', sans-serif;
                                 background: $white;
                                 color: $gray-900;
                                 @include transition(all, 0.2s);
                                 position: relative;

                                 &::placeholder {
                                     color: $gray-400;
                                     @include transition(color);
                                 }

                                 &:focus {
                                     @include input-focus;

                                     &::placeholder {
                                         color: $gray-300;
                                     }
                                 }

                                 &:hover:not(:focus) {
                                     border-color: $gray-300;
                                 }

                                 // État rempli
                                 &.filled {
                                     border-color: $gray-300;
                                     background: $gray-50;
                                 }

                                 // État d'erreur
                                 &.error {
                                     border-color: $error-color;
                                     background: rgba($error-color, 0.05);

                                     &:focus {
                                         border-color: $error-color;
                                         box-shadow: 0 0 0 3px rgba($error-color, 0.1);
                                     }
                                 }

                                 // État de succès
                                 &.success {
                                     border-color: $success-color;
                                     background: rgba($success-color, 0.05);

                                     &:focus {
                                         border-color: $success-color;
                                         box-shadow: 0 0 0 3px rgba($success-color, 0.1);
                                     }
                                 }

                                 @media (max-width: $mobile) {
                                     padding: $spacing-md $spacing-md $spacing-md 2.75rem;
                                     font-size: 0.9375rem;
                                 }

                             }

                             .phone-input {
                                 width: 100%;
                                 border: none;
                                 font-size: 1rem;
                                 font-weight: $font-light;
                                 font-family: 'Ubuntu', sans-serif;
                                 background: $white;
                                 @include transition(all, 0.2s);

                                 &:focus {
                                     border: none;
                                     @include input-focus;

                                     &::placeholder {
                                         color: $gray-300;
                                     }
                                 }
                             }

                             .phone-button {
                                 border: none;
                             }

                             .phone-container {
                                 width: 100%;
                                 padding: $spacing-lg $spacing-lg $spacing-lg 3rem;
                                 border: 2px solid $gray-200;
                                 border-radius: $radius-lg;
                                 font-weight: $font-light;
                                 font-family: 'Ubuntu', sans-serif;
                                 background: $white;
                                 color: $gray-900;
                                 @include transition(all, 0.2s);
                                 position: relative;

                                 &::placeholder {
                                     color: $gray-400;
                                     @include transition(color);
                                 }

                                 &:focus {
                                     @include input-focus;

                                     &::placeholder {
                                         color: $gray-300;
                                     }
                                 }

                                 &:hover:not(:focus) {
                                     border-color: $gray-300;
                                 }

                                 // État rempli
                                 &.filled {
                                     border-color: $gray-300;
                                     background: $gray-50;
                                 }

                                 // État d'erreur
                                 &.error {
                                     border-color: $error-color;
                                     background: rgba($error-color, 0.05);

                                     &:focus {
                                         border-color: $error-color;
                                         box-shadow: 0 0 0 3px rgba($error-color, 0.1);
                                     }
                                 }

                                 // État de succès
                                 &.success {
                                     border-color: $success-color;
                                     background: rgba($success-color, 0.05);

                                     &:focus {
                                         border-color: $success-color;
                                         box-shadow: 0 0 0 3px rgba($success-color, 0.1);
                                     }
                                 }

                                 @media (max-width: $mobile) {
                                     padding: $spacing-md $spacing-md $spacing-md 2.75rem;
                                     font-size: 0.9375rem;
                                     width: 80%;
                                 }

                             }
                         }
                     }
                 }

                 // Address
                 #location {
                     .form-group {
                         display: flex;
                         flex-direction: column;
                         gap: $spacing-sm;

                         .search-field-wrapper {
                             position: relative;
                             width: 100%;
                             background: $white;

                         }

                         .suggestions-dropdown {
                             top: 0;
                             left: 0;
                             bottom: 100%;
                             width: 100%;
                             background-color: $white;

                             border-radius: 12px;
                             border: 1px solid $gray-300;

                             .suggestions-list {
                                 list-style: none;
                                 padding: 0;
                                 margin: 0;
                                 max-height: 200px;
                                 overflow-y: auto;

                                 .suggestion-item {
                                     padding: $spacing-sm $spacing-md;
                                     cursor: pointer;
                                     transition: background-color 0.3s ease;
                                     display: flex;
                                     align-items: center;
                                     gap: $spacing-sm;
                                     font-weight: $font-light;
                                 }
                             }
                         }


                         // Wrapper d'input avec icône
                         .input-wrapper {
                             position: relative;
                             display: flex;
                             width: 100%;
                             align-items: center;
                             margin-bottom: $spacing-lg;

                             .input-icon {
                                 position: absolute;
                                 left: $spacing-lg;
                                 top: 15px;
                                 color: $gray-400;
                                 font-size: 1rem;
                                 z-index: 2;
                                 @include transition(color);
                             }

                             &:focus-within .input-icon {
                                 color: $dark;
                             }

                             // Input de base
                             .form-input {
                                 width: 100%;
                                 padding: $spacing-lg $spacing-lg $spacing-lg 3rem;
                                 border: 2px solid $gray-200;
                                 border-radius: $radius-lg;
                                 font-size: 1rem;
                                 font-weight: $font-light;
                                 font-family: 'Ubuntu', sans-serif;
                                 background: $white;
                                 color: $gray-900;
                                 @include transition(all, 0.2s);
                                 position: relative;

                                 &::placeholder {
                                     color: $gray-400;
                                     @include transition(color);
                                 }

                                 &:focus {
                                     @include input-focus;

                                     &::placeholder {
                                         color: $gray-300;
                                     }
                                 }

                                 &:hover:not(:focus) {
                                     border-color: $gray-300;
                                 }

                                 // État rempli
                                 &.filled {
                                     border-color: $gray-300;
                                     background: $gray-50;
                                 }

                                 // État d'erreur
                                 &.error {
                                     border-color: $error-color;
                                     background: rgba($error-color, 0.05);

                                     &:focus {
                                         border-color: $error-color;
                                         box-shadow: 0 0 0 3px rgba($error-color, 0.1);
                                     }
                                 }

                                 // État de succès
                                 &.success {
                                     border-color: $success-color;
                                     background: rgba($success-color, 0.05);

                                     &:focus {
                                         border-color: $success-color;
                                         box-shadow: 0 0 0 3px rgba($success-color, 0.1);
                                     }
                                 }

                                 @media (max-width: $mobile) {
                                     padding: $spacing-md $spacing-md $spacing-md 2.75rem;
                                     font-size: 0.9375rem;
                                 }

                             }
                         }
                     }
                 }

                 // Sécurité
                 #security {
                     .form-group {
                         display: flex;
                         flex-direction: column;
                         gap: $spacing-sm;

                         // Wrapper d'input avec icône
                         .input-wrapper {
                             position: relative;
                             display: flex;
                             width: 100%;
                             align-items: center;
                             margin-bottom: $spacing-lg;

                             .input-icon {
                                 position: absolute;
                                 left: $spacing-lg;
                                 top: 15px;
                                 color: $gray-400;
                                 font-size: 1rem;
                                 z-index: 2;
                                 @include transition(color);
                             }

                             &:focus-within .input-icon {
                                 color: $dark;
                             }

                             // Input de base
                             .form-input {
                                 width: 100%;
                                 padding: $spacing-lg $spacing-lg $spacing-lg 3rem;
                                 border: 2px solid $gray-200;
                                 border-radius: $radius-lg;
                                 font-size: 1rem;
                                 font-weight: $font-light;
                                 font-family: 'Ubuntu', sans-serif;
                                 background: $white;
                                 color: $gray-900;
                                 @include transition(all, 0.2s);
                                 position: relative;

                                 &::placeholder {
                                     color: $gray-400;
                                     @include transition(color);
                                 }

                                 &:focus {
                                     @include input-focus;

                                     &::placeholder {
                                         color: $gray-300;
                                     }
                                 }

                                 &:hover:not(:focus) {
                                     border-color: $gray-300;
                                 }

                                 // État rempli
                                 &.filled {
                                     border-color: $gray-300;
                                     background: $gray-50;
                                 }

                                 // État d'erreur
                                 &.error {
                                     border-color: $error-color;
                                     background: rgba($error-color, 0.05);

                                     &:focus {
                                         border-color: $error-color;
                                         box-shadow: 0 0 0 3px rgba($error-color, 0.1);
                                     }
                                 }

                                 // État de succès
                                 &.success {
                                     border-color: $success-color;
                                     background: rgba($success-color, 0.05);

                                     &:focus {
                                         border-color: $success-color;
                                         box-shadow: 0 0 0 3px rgba($success-color, 0.1);
                                     }
                                 }

                                 @media (max-width: $mobile) {
                                     padding: $spacing-md $spacing-md $spacing-md 2.75rem;
                                     font-size: 0.9375rem;
                                 }

                             }

                             // Bouton de basculement du mot de passe
                             .password-toggle {
                                 position: absolute;
                                 right: $spacing-lg;
                                 background: none;
                                 border: none;
                                 color: $gray-400;
                                 cursor: pointer;
                                 padding: $spacing-xs;
                                 border-radius: $radius-sm;
                                 @include transition(all);
                                 z-index: 2;

                                 &:hover {
                                     color: $gray-600;
                                     background: rgba($gray-100, 0.8);
                                 }

                                 &:focus {
                                     outline: none;
                                     color: $two;
                                     background: rgba($two, 0.1);
                                 }

                                 &:active {
                                     transform: scale(0.95);
                                 }
                             }
                         }
                     }

                 }
             }

             // Wrapper de checkbox personnalisée
             .checkbox-wrapper {
                 display: flex;
                 align-items: center;
                 gap: $spacing-sm;
                 cursor: pointer;
                 @include transition(all);

                 &:hover {
                     .checkbox-custom {
                         border-color: $two;
                         background: rgba($two, 0.05);
                     }
                 }

                 // Version pour les conditions d'utilisation
                 &--terms {
                     align-items: flex-start;
                     gap: $spacing-md;
                     cursor: default;

                     .checkbox-custom {
                         margin-top: 2px;
                         flex-shrink: 0;
                     }

                     .checkbox-label {
                         cursor: pointer;
                         line-height: 1.5;
                     }
                 }

                 // Input checkbox caché
                 .checkbox-input {
                     position: absolute;
                     opacity: 0;
                     pointer-events: none;

                     &:checked+.checkbox-custom {
                         background: $two;
                         border-color: $two;

                         &::after {
                             opacity: 1;
                             transform: scale(1);
                         }
                     }

                     &:focus+.checkbox-custom {
                         box-shadow: 0 0 0 3px rgba($two, 0.1);
                     }
                 }

                 // Checkbox personnalisée
                 .checkbox-custom {
                     width: 20px;
                     height: 20px;
                     border: 2px solid $gray-300;
                     border-radius: $radius-sm;
                     background: $white;
                     @include flex-center;
                     @include transition(all);
                     position: relative;
                     flex-shrink: 0;

                     &::after {
                         content: '✓';
                         color: $white;
                         font-size: 0.75rem;
                         font-weight: 700;
                         opacity: 0;
                         transform: scale(0.5);
                         @include transition(all, 0.2s);
                     }
                 }

                 // Label de checkbox
                 .checkbox-label {
                     font-size: 0.875rem;
                     color: $gray-700;
                     user-select: none;
                     @include transition(color);

                     .terms-link {
                         color: $two;
                         text-decoration: none;
                         font-weight: 600;
                         @include transition(color);

                         &:hover {
                             text-decoration: underline;
                             color: lighten($two, 10%);
                         }
                     }
                 }

             }

             // Wrapper reCAPTCHA
             .captcha-wrapper {
                 @include flex-center;
                 padding: $spacing-lg;
                 background: $gray-50;
                 border-radius: $radius-lg;
                 border: 1px solid $gray-200;

                 // Responsive pour reCAPTCHA
                 @media (max-width: $mobile) {
                     transform: scale(0.85);
                     transform-origin: center;
                     padding: $spacing-md;
                 }
             }

             // Messages d'erreur
             .error-message {
                 font-size: 0.8125rem;
                 color: $error-color;
                 font-weight: 500;
                 display: flex;
                 align-items: center;
                 gap: $spacing-xs;
                 animation: slideInDown 0.3s ease-out;

                 &::before {
                     content: '⚠';
                     font-size: 0.75rem;
                 }
             }

             // Bouton de soumission
             .nav-button {
                 width: 100%;
                 padding: $spacing-lg $spacing-xl;

                 color: $white;
                 border: none;
                 border-radius: $radius-lg;
                 font-size: 1rem;
                 font-family: 'Ubuntu', sans-serif;
                 font-weight: 600;
                 cursor: pointer;
                 @include transition(all, 0.2s);
                 @include card-shadow(2);
                 position: relative;
                 overflow: hidden;
                 display: flex;
                 align-items: center;
                 justify-content: center;
                 gap: $spacing-sm;

                 &--next {
                     background: linear-gradient(135deg, $primary-color, $primary-hover);

                     &:hover {
                         background: linear-gradient(135deg, $primary-hover, $primary-active);
                         transform: translateY(-1px);
                         @include card-shadow(3);

                         &::before {
                             left: 100%;
                         }
                     }
                 }

                 &--back {
                     background: linear-gradient(135deg, $secondary-color, $secondary-hover);

                     &:hover {
                         background: linear-gradient(135deg, $secondary-hover, $secondary-active);
                         transform: translateY(-1px);
                         @include card-shadow(3);

                         &::before {
                             left: 100%;
                         }
                     }
                 }

                 &--submit {
                     background: linear-gradient(135deg, $success-color, $primary-hover);

                     &:hover {
                         background: linear-gradient(135deg, $success-hover, $secondary-active);
                         transform: translateY(-1px);
                         @include card-shadow(3);

                         &::before {
                             left: 100%;
                         }
                     }
                 }

                 // Effet de brillance
                 &::before {
                     content: '';
                     position: absolute;
                     top: 0;
                     left: -100%;
                     width: 100%;
                     height: 100%;
                     background: linear-gradient(90deg, transparent, rgba($white, 0.2), transparent);
                     @include transition(left, 0.5s);
                 }



                 &:active {
                     transform: translateY(0);
                     @include card-shadow(1);
                 }

                 &:focus {
                     outline: none;
                     box-shadow: 0 0 0 3px rgba($primary-color, 0.3);
                 }

                 // État désactivé
                 &.disabled,
                 &:disabled {
                     background: $gray-300;
                     color: $gray-500;
                     cursor: not-allowed;
                     transform: none;
                     @include card-shadow(1);

                     &:hover {
                         background: $gray-300;
                         transform: none;
                         @include card-shadow(1);

                         &::before {
                             left: -100%;
                         }
                     }
                 }

                 @media (max-width: $mobile) {
                     padding: $spacing-md $spacing-lg;
                     font-size: 0.9375rem;
                 }
             }

             .nav-spacer {
                 height: $spacing-xl;

                 @media (max-width: $mobile) {
                     height: $spacing-lg;
                 }
             }

             // Lien d'inscription
             .signup-link {
                 text-align: center;
                 margin-top: $spacing-xl;

                 p {
                     margin: 0;
                     font-size: 0.9375rem;
                     color: $gray-600;
                 }

                 .link {
                     color: $two;
                     text-decoration: none;
                     font-weight: 600;
                     @include transition(color);

                     &:hover {
                         color: $three;
                         text-decoration: underline;
                     }

                     &:focus {
                         outline: 2px solid $primary-color;
                         outline-offset: 2px;
                         border-radius: $radius-sm;
                     }
                 }
             }
         }

         // Footer

         // Lien d'inscription
         .signin-link {
             text-align: center;
             margin-top: $spacing-xl;

             p {
                 margin: 0;
                 font-size: 0.9375rem;
                 color: $gray-600;
             }

             .link {
                 color: $two;
                 text-decoration: none;
                 font-weight: 600;
                 @include transition(color);

                 &:hover {
                     color: $three;
                     text-decoration: underline;
                 }

                 &:focus {
                     outline: 2px solid $primary-color;
                     outline-offset: 2px;
                     border-radius: $radius-sm;
                 }
             }
         }


         .section-header {
             text-align: center;
             margin-bottom: 32px;

             .section-icon {
                 color: #3b82f6;
                 margin-bottom: 16px;

                 &.success {
                     color: #10b981;
                 }
             }

             .title {
                 font-size: 28px;
                 font-weight: 700;
                 color: #111827;
                 margin-bottom: 8px;
             }

             .subtitle {
                 color: #6b7280;
                 font-size: 16px;
                 line-height: 1.5;
             }
         }
     }
 }